{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css'\n\n\nexport function showImages(images, gallery) {\n    gallery.innerHTML = images.map(img =>\n                `<li>\n                <a href=\"${img.largeImageURL}\"><img src=\"${img.webformatURL}\" alt=\"${img.tags}\"></a>\n                <ul>\n                    <li>\n                        <h>Likes</h>\n                        <p>${img.likes}</p>\n                    </li>\n                    <li>\n                        <h>Views</h>\n                        <p>${img.views}</p>\n                    </li>                    \n                    <li>\n                        <h>Comments</h>\n                        <p>${img.comments}</p>\n                    </li>                    \n                    <li>\n                        <h>Downloads</h>\n                        <p>${img.downloads}</p>\n                    </li>\n                </ul>\n                </li>`).join('')\n    \n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n    lightbox.refresh()\n}\n\n\n\n\n\n\n// 1. Імпортувати умову для пошуку з запитів\n// 2. Додати до списку галерею зображень\n// 3. Очищати галерею перед новим запитом","// HTTP запити\n\n// Після додавання нових елементів до списку зображень на екземплярі SimpleLightbox викликається метод refresh()\n// При кліку на маленьке зображення в галереї відкривається його збільшена версія у модальному вікні з використанням бібліотеки SimpleLightbox\n// Елементи на сторінці стилізовані згідно з макетом(або власні стилі)\n\n\n\nexport function searchImages(value, loader, form) {\n            const URI = 'https://pixabay.com/api/'\n            const PARAMS = new URLSearchParams({\n                key: '42515030-f0931f035bd772c998b8c15c1',\n                q: value,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true\n            })\n    const LINK = `${URI}?${PARAMS}`\n    console.log(LINK)\n            \n            return fetch (LINK)\n                .then(response => {\n                if (!response.ok) {\n                    throw new Error('Error!')\n                    }\n\n                return response.json()\n                })\n                .catch(error => {\n                    alert('Error while searching images!')\n                })\n                .finally(() => {\n                    loader.classList.add('is-hidden')\n                    form.reset()\n                })\n        }\n\n// + 1. Повісити слухача на форму з подією сабміт\n// + 2. додати перевірку вмісту текстового поля на наявність порожнього рядка\n// + 3. перед виконанням запиту Встановити Завантажувач\n// + 4. якщо рядок не пустий, прописати HTTP - запит із цим пошуковим рядком\n// + 5. в HTTP прописати параметри\n// key — твій унікальний ключ доступу до API.\n// q — слово для пошуку. Те, що буде вводити користувач.\n// image_type — тип зображення. Потрібні тільки фотографії, тому постав значення photo.\n// orientation — орієнтація фотографії. Постав значення horizontal.\n//     safesearch — фільтр за віком.Постав значення true.\n// + 7. Очищати форму\n\n// + 6.Якщо бекенд повертає порожній масив, повідомлення через біблотеку з текстом \"Sorry, there are no images matching your search query. Please try again!\"\n","// вся логіка документу\n\n// 1. Імпортувати функції  HTTP - запитів\n// 2. Імпортувати функції розмітки карток зображень\nimport iziToast from 'izitoast'\nimport 'izitoast/dist/css/iziToast.min.css'\nimport cross from '../src/img/bi_x-octagon.svg'\n\n\nimport { showImages } from './js/render-functions.js'\nimport { searchImages } from './js/pixabay-api.js'\n\nconst formEl = document.querySelector('.form')\nconst loaderEl = document.querySelector('.loader')\nconst listEl = document.querySelector('.gallery')\n\n\nformEl.addEventListener('submit', (event) => {\n    event.preventDefault()\n\n    listEl.innerHTML = ''\n\n    loaderEl.classList.remove('is-hidden')\n\n    const value = event.currentTarget.image_name.value.trim()\n\n    if (value !== '') {\n        setTimeout(() => {\n            searchImages(value, loaderEl, formEl)\n                .then(data => {\n                if (data.hits.length === 0) {\n                iziToast.error({\n                    title: '',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    class: 'popup-message',\n                    theme: 'dark',\n                    backgroundColor: '#ef4040',\n                    messageColor: '#fff',\n                    iconUrl: cross,\n                    position: 'topRight',\n                    pauseOnHover: true,\n                    timeout: 3000,\n                });   \n            }\n            \n                const images = data.hits.slice(0, 15)\n                \n                showImages(images, listEl)\n            })\n        }, 1000)\n       }\n})"],"names":["cross","showImages","images","gallery","img","SimpleLightbox","searchImages","value","loader","form","URI","PARAMS","LINK","response","error","formEl","loaderEl","listEl","event","data","iziToast"],"mappings":"6vBAAA,MAAeA,EAAA,kDCIR,SAASC,EAAWC,EAAQC,EAAS,CACxCA,EAAQ,UAAYD,EAAO,IAAIE,GACnB;AAAA,2BACWA,EAAI,aAAa,eAAeA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,6BAIhEA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,6BAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,6BAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,6BAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,sBAGpB,EAAE,KAAK,EAAE,EAEV,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GACtB,CAAK,EACQ,QAAS,CACtB,CCzBO,SAASC,EAAaC,EAAOC,EAAQC,EAAM,CACtC,MAAMC,EAAM,2BACNC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGJ,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAC5B,CAAa,EACHK,EAAO,GAAGF,CAAG,IAAIC,CAAM,GAC7B,eAAQ,IAAIC,CAAI,EAED,MAAOA,CAAI,EACb,KAAKC,GAAY,CAClB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,QAAQ,EAG5B,OAAOA,EAAS,KAAM,CACtC,CAAiB,EACA,MAAMC,GAAS,CACZ,MAAM,+BAA+B,CACzD,CAAiB,EACA,QAAQ,IAAM,CACXN,EAAO,UAAU,IAAI,WAAW,EAChCC,EAAK,MAAO,CAChC,CAAiB,CACR,CCvBT,MAAMM,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAS,SAAS,cAAc,UAAU,EAGhDF,EAAO,iBAAiB,SAAWG,GAAU,CACzCA,EAAM,eAAgB,EAEtBD,EAAO,UAAY,GAEnBD,EAAS,UAAU,OAAO,WAAW,EAErC,MAAMT,EAAQW,EAAM,cAAc,WAAW,MAAM,KAAM,EAErDX,IAAU,IACV,WAAW,IAAM,CACbD,EAAaC,EAAOS,EAAUD,CAAM,EAC/B,KAAKI,GAAQ,CACVA,EAAK,KAAK,SAAW,GACzBC,EAAS,MAAM,CACX,MAAO,GACP,QAAS,2EACT,MAAO,gBACP,MAAO,OACP,gBAAiB,UACjB,aAAc,OACd,QAASpB,EACT,SAAU,WACV,aAAc,GACd,QAAS,GAC7B,CAAiB,EAGD,MAAME,EAASiB,EAAK,KAAK,MAAM,EAAG,EAAE,EAEpClB,EAAWC,EAAQe,CAAM,CACzC,CAAa,CACJ,EAAE,GAAI,CAEf,CAAC"}
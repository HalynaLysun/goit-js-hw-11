{"version":3,"file":"commonHelpers.js","sources":["../src/img/bi_x-octagon.svg","../src/js/pixabay-api.js"],"sourcesContent":["export default \"__VITE_ASSET__3108d0c6__\"","// HTTP запити\n\n// Після додавання нових елементів до списку зображень на екземплярі SimpleLightbox викликається метод refresh()\n// При кліку на маленьке зображення в галереї відкривається його збільшена версія у модальному вікні з використанням бібліотеки SimpleLightbox\n// Елементи на сторінці стилізовані згідно з макетом(або власні стилі)\n\nimport iziToast from 'izitoast'\nimport 'izitoast/dist/css/iziToast.min.css'\nimport cross from '../img/bi_x-octagon.svg'\n\n\nconst formEl = document.querySelector('.form')\nconst loaderEl = document.querySelector('.loader')\nconst listEl = document.querySelector('.gallery')\n\n\nformEl.addEventListener('submit', (event) => {\n    event.preventDefault()\n\n    listEl.innerHTML = ''\n\n    loaderEl.classList.remove('is-hidden')\n\n        const value = event.currentTarget.image_name.value\n    if (value.trim() !== '') {\n            const URI = 'https://pixabay.com/api/'\n            const PARAMS = new URLSearchParams({\n                key: '42515030-f0931f035bd772c998b8c15c1',\n                q: value,\n                image_type: 'photo',\n                orientation: 'horizontal',\n                safesearch: true\n            })\n            const LINK = `${URI}?${PARAMS}`\n            \n        function searchImages() {\n            return fetch (LINK)\n                .then(response => {\n                if (!response.ok) {\n                    throw new Error('Error!')\n                    }\n\n                return response.json()\n                })\n                .catch(error => {\n                    alert('Error while searching images!')\n                })\n                .finally(() => {\n                    loaderEl.classList.add('is-hidden')\n                    formEl.reset()\n                })\n        }\n\n        setTimeout(() => {\n            searchImages().then(data => {\n                if (data.hits.length === 0) {\n                iziToast.error({\n                    title: '',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    class: 'popup-message',\n                    theme: 'dark',\n                    backgroundColor: '#ef4040',\n                    messageColor: '#fff',\n                    iconUrl: cross,\n                    position: 'topRight',\n                    pauseOnHover: true,\n                    timeout: 3000,\n                });   \n            }\n            const images = data.hits.slice(0, 15)\n\n            listEl.innerHTML = images.map(img =>\n                `<li>\n                <a href=\"${img.largeImageURL}\"><img src=\"${img.webformatURL}\" alt=\"${img.tags}\"></a>\n                <ul>\n                    <li>\n                        <h>Likes</h>\n                        <p>${img.likes}</p>\n                    </li>\n                    <li>\n                        <h>Views</h>\n                        <p>${img.views}</p>\n                    </li>                    \n                    <li>\n                        <h>Comments</h>\n                        <p>${img.comments}</p>\n                    </li>                    \n                    <li>\n                        <h>Downloads</h>\n                        <p>${img.downloads}</p>\n                    </li>\n                </ul>\n                </li>`).join('')\n            })\n        }, 2000)\n       }\n})\n\n// + 1. Повісити слухача на форму з подією сабміт\n// + 2. додати перевірку вмісту текстового поля на наявність порожнього рядка\n// + 3. перед виконанням запиту Встановити Завантажувач\n// + 4. якщо рядок не пустий, прописати HTTP - запит із цим пошуковим рядком\n// + 5. в HTTP прописати параметри\n// key — твій унікальний ключ доступу до API.\n// q — слово для пошуку. Те, що буде вводити користувач.\n// image_type — тип зображення. Потрібні тільки фотографії, тому постав значення photo.\n// orientation — орієнтація фотографії. Постав значення horizontal.\n//     safesearch — фільтр за віком.Постав значення true.\n// + 7. Очищати форму\n\n// + 6.Якщо бекенд повертає порожній масив, повідомлення через біблотеку з текстом \"Sorry, there are no images matching your search query. Please try again!\"\n"],"names":["cross","formEl","loaderEl","listEl","event","value","searchImages","LINK","response","error","URI","PARAMS","data","iziToast","images","img"],"mappings":"svBAAA,MAAeA,EAAA,kDCWTC,EAAS,SAAS,cAAc,OAAO,EACvCC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAS,SAAS,cAAc,UAAU,EAGhDF,EAAO,iBAAiB,SAAWG,GAAU,CACzCA,EAAM,eAAgB,EAEtBD,EAAO,UAAY,GAEnBD,EAAS,UAAU,OAAO,WAAW,EAEjC,MAAMG,EAAQD,EAAM,cAAc,WAAW,MACjD,GAAIC,EAAM,KAAM,IAAK,GAAI,CAWrB,IAASC,EAAT,UAAwB,CACpB,OAAO,MAAOC,CAAI,EACb,KAAKC,GAAY,CAClB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,QAAQ,EAG5B,OAAOA,EAAS,KAAM,CACtC,CAAiB,EACA,MAAMC,GAAS,CACZ,MAAM,+BAA+B,CACzD,CAAiB,EACA,QAAQ,IAAM,CACXP,EAAS,UAAU,IAAI,WAAW,EAClCD,EAAO,MAAO,CAClC,CAAiB,CACR,EA1BG,MAAMS,EAAM,2BACNC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGN,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAC5B,CAAa,EACKE,EAAO,GAAGG,CAAG,IAAIC,CAAM,GAoBjC,WAAW,IAAM,CACbL,EAAc,EAAC,KAAKM,GAAQ,CACpBA,EAAK,KAAK,SAAW,GACzBC,EAAS,MAAM,CACX,MAAO,GACP,QAAS,2EACT,MAAO,gBACP,MAAO,OACP,gBAAiB,UACjB,aAAc,OACd,QAASb,EACT,SAAU,WACV,aAAc,GACd,QAAS,GAC7B,CAAiB,EAEL,MAAMc,EAASF,EAAK,KAAK,MAAM,EAAG,EAAE,EAEpCT,EAAO,UAAYW,EAAO,IAAIC,GAC1B;AAAA,2BACWA,EAAI,aAAa,eAAeA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA,6BAIhEA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,6BAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,6BAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,6BAIZA,EAAI,SAAS;AAAA;AAAA;AAAA,sBAGpB,EAAE,KAAK,EAAE,CAC/B,CAAa,CACJ,EAAE,GAAI,CACP,CACR,CAAC"}